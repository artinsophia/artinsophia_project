# 类别特征编码方式如何对树模型产生影响？
 &emsp;&emsp;这里我们主要关注目标编码、标签编码和独热编码的抉择。编码方式的选择对树模型的性能影响很大，
 
 因为它影响了特征分裂点的目标函数减小的大小。我们希望的是，如果类别特征存在真实的关系，那么树模型可以把
 
 它挖掘出来。下面我们探讨不同情景下采取不同编码方式的优劣。

## 一、独热编码

&emsp;&emsp;独热编码适用于与目标变量不具有先验关系，或者类别中样本数非常不均衡的类别特征。当然，一般在

低基数的情况使用独热编码。重点谈谈不均衡的情况，由于各个类别样本数差别巨大，使用独热编码相当于将大多数和

稀有类别分开，重点关注特征对大部分样本的效应，可以防止过拟合而忽略稀有类别的异质性。

## 二、标签编码

&emsp;&emsp;标签编码适用于同样不具有先验关系，但是高基数的特征。标签特征为什么可以在树模型中使用？由于

不具有先验关系，这一类特征往往Cover比较低，意味着出现在较深的位置。而较深的位置意味着“纯净”的节点，此时

样本已不再密集地分布于各个类别。因此，仅仅凭借标签编码的差异就足够将样本分开。

## 三、目标编码

&emsp;&emsp;目标编码使用于具有先验关系，或样本数比较均衡的类别特征。重点关注后者：如果我们想要尽可能多地

关注每一种类别对目标变量的作用，那么必须使用目标编码而非独热编码。独热编码会“稀释”特征的重要性，因为它将

样本分成A和非A，而非A中既存在实际上目标变量比它小的又存在目标变量比它大的，除非类别A是极端类别。而目标编码

则恰当地将类别排序。
